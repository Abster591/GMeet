<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./dist/output.css">
    <link rel="stylesheet" href="./call.css">
    <title>Content Page</title>
</head>
<script>
    const ROOM_ID = "<%=roomId%>"
    const username = "<%=username%>"
</script>
<script defer src="https://unpkg.com/peerjs@1.3.2/dist/peerjs.min.js"></script>
<script src="/socket.io/socket.io.js" defer></script>
<script src="/scripts/script.js" defer></script>
<script src="https://kit.fontawesome.com/94d618afb0.js" crossorigin="anonymous"></script>

<body class="bg-zinc-900">
    <div class="main__container flex align-center justify-between p-5">
        <div id="video-grid" class="rounded-md flex justify-center items-center flex-wrap gap-2"></div>
        <div id="chat-section" class="rounded-md bg-slate-100 text-sm flex flex-col justify-between relative">
            <h2 class="p-5 font-semibold text-xl text-gray-500">Group Chat</h2>
            <div class="chats m-3 h-4/5">
                <ul class="flex flex-col" id="msg-list">
                    <li class="chat-message user-message">
                        <h2 class="chat-sender font-bold">user</h2>
                        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Assumenda nobis eaque delectus earum
                        eius cumque eos nihil. Alias, ratione reprehenderit!
                    </li>
                </ul>
            </div>
            <div class="p-3 flex items-center space-between gap-1">
                <textarea placeholder="Enter your message here" rows="1"
                    class="block rounded-full px-8 py-3 outline-none w-full border-zinc-900 bg-gray-300"
                    oninput='this.style.height = "";this.style.height = (this.scrollHeight + 2) + "px"'></textarea>
                <button><i class="fa-solid fa-paper-plane send-button"></i></button>
            </div>
        </div>
        <div id="participant-section" class="rounded-md bg-slate-100 text-sm flex flex-col">
            <h2 class="p-5 font-semibold text-xl text-gray-500">Participants</h2>
        </div>
        <div id="information-section" class="rounded-md bg-slate-100 text-sm flex flex-col ">
            <h2 class="p-5 font-semibold text-xl text-gray-500">Meeting details</h2>
            <div class="meeting-info p-5">
                hgoshoigisdsdh
            </div>
        </div>
    </div>
    <div class="control__section w-full p-2 fixed bottom-0 mb-3 text-white flex text-sm justify-between flex-wrap">
        <div class="meeting_details">
            <span id="time" class="date ml-1 mr-3 border-r-2 border-white pr-5">
                00:00 AM
            </span>
            <span class="meeting_id m-3">
                <%=roomId%>
            </span>
        </div>
        <div class="icon_list mr-20">
            <span class="icon btn-icon-disable" id="audioSpan"><button id="audioToggle"><i
                        class="fa-solid fa-microphone-slash"></i></button></span>
            <span class="icon btn-icon" id="videoSpan"><button id="videoToggle"><i
                        class="fa-solid fa-video"></i></button></span>
            <span class="icon btn-icon" id="videoSpan"><button id="videoToggle"><i
                        class="fa-solid fa-clapperboard"></i></button></span>
            <span class="icon btn-icon" id="screenSpan"><button id="screenShare"><i
                        class="fa-solid fa-display"></i></button></span>
            <span class="icon btn-icon rounded-full  bg-red-600 hover:bg-red-700 transition-all"><a
                    href="/close"><button id="closeCall"><i class="fa-solid fa-phone"></i></button></a></span>
        </div>
        <div class="control_icons">
            <span id="btn-chats" class="icon control-icon rounded-full"><button><i
                        class="fa-solid fa-comment"></i></button></span>
            <span id="btn-users" class="icon control-icon rounded-full"><button><i
                        class="fa-solid fa-users"></i></button></span>
            <span id="btn-information" class="icon control-icon mr-0 rounded-full"><button><i
                        class="fa-solid fa-circle-info"></i></button></span>
        </div>
    </div>
</body>
<script>
    const time = document.getElementById('time');
    setInterval(() => {
        const date = new Date();

        const hours = date.getHours() % 12 ? date.getHours() % 12 : 12;
        let minutes = date.getMinutes();
        const ampm = (date.getHours()) >= 12 ? 'PM' : 'AM';
        minutes = minutes < 10 ? '0' + minutes : minutes;
        const strTime = hours + ':' + minutes + ' ' + ampm + ' ';
        time.innerHTML = strTime;
    }, 1000)

</script>
<script src="/scripts/test.js"></script>

</html>